{"ast":null,"code":"import React from'react';import{Link,useLocation,useNavigate}from'react-router-dom';import{LayoutDashboard,Zap,Plus,Compass,User,LogOut,Settings}from'lucide-react';import{useAuth}from'../contexts/AuthContext';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Sidebar=()=>{const location=useLocation();const navigate=useNavigate();const{user,logout}=useAuth();const handleLogout=async()=>{try{await logout();toast.success('Logged out successfully');navigate('/');}catch(error){toast.error('Logout failed');}};const isActive=path=>{return location.pathname===path||location.pathname.startsWith(path+'/');};const navItems=[{path:'/dashboard',icon:LayoutDashboard,label:'Dashboard'},{path:'/loops',icon:Zap,label:'My Loops'},{path:'/loops/new',icon:Plus,label:'Create Loop'},{path:'/explore',icon:Compass,label:'Explore'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-brand\",children:/*#__PURE__*/_jsx(Link,{to:\"/dashboard\",className:\"text-decoration-none\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Magic Loops\"})})}),/*#__PURE__*/_jsx(\"nav\",{className:\"sidebar-nav\",children:navItems.map(item=>{const Icon=item.icon;return/*#__PURE__*/_jsx(\"div\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{to:item.path,className:`nav-link ${isActive(item.path)?'active':''}`,children:[/*#__PURE__*/_jsx(Icon,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:item.label})]})},item.path);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-auto p-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3 p-3 rounded\",style:{backgroundColor:'rgba(99, 102, 241, 0.1)'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"rounded-circle bg-primary d-flex align-items-center justify-content-center\",style:{width:'40px',height:'40px'},children:/*#__PURE__*/_jsx(User,{size:20,className:\"text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-light fw-semibold\",children:user===null||user===void 0?void 0:user.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted small\",children:[user===null||user===void 0?void 0:user.plan,\" plan\"]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-muted small mb-1\",children:\"Credits\"}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{height:'6px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",style:{width:`${user?user.credits_used/user.credits_limit*100:0}%`,background:'var(--gradient-primary)'}})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted small mt-1\",children:user?`${user.credits_limit-user.credits_used} remaining`:'0 remaining'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{to:\"/profile\",className:`nav-link ${isActive('/profile')?'active':''}`,children:[/*#__PURE__*/_jsx(Settings,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"nav-link w-100 border-0 bg-transparent text-start\",style:{color:'var(--muted-text)'},children:[/*#__PURE__*/_jsx(LogOut,{size:18}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})})]})]});};export default Sidebar;","map":{"version":3,"names":["React","Link","useLocation","useNavigate","LayoutDashboard","Zap","Plus","Compass","User","LogOut","Settings","useAuth","toast","jsx","_jsx","jsxs","_jsxs","Sidebar","location","navigate","user","logout","handleLogout","success","error","isActive","path","pathname","startsWith","navItems","icon","label","className","children","to","map","item","Icon","size","style","backgroundColor","width","height","name","plan","credits_used","credits_limit","background","onClick","color"],"sources":["/workspace/frontend/src/components/Sidebar.tsx"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport { \n  LayoutDashboard, \n  Zap, \n  Plus, \n  Compass, \n  User, \n  LogOut,\n  Settings\n} from 'lucide-react';\nimport { useAuth } from '../contexts/AuthContext';\nimport toast from 'react-hot-toast';\n\nconst Sidebar: React.FC = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const { user, logout } = useAuth();\n\n  const handleLogout = async () => {\n    try {\n      await logout();\n      toast.success('Logged out successfully');\n      navigate('/');\n    } catch (error) {\n      toast.error('Logout failed');\n    }\n  };\n\n  const isActive = (path: string) => {\n    return location.pathname === path || location.pathname.startsWith(path + '/');\n  };\n\n  const navItems = [\n    {\n      path: '/dashboard',\n      icon: LayoutDashboard,\n      label: 'Dashboard',\n    },\n    {\n      path: '/loops',\n      icon: Zap,\n      label: 'My Loops',\n    },\n    {\n      path: '/loops/new',\n      icon: Plus,\n      label: 'Create Loop',\n    },\n    {\n      path: '/explore',\n      icon: Compass,\n      label: 'Explore',\n    },\n  ];\n\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-brand\">\n        <Link to=\"/dashboard\" className=\"text-decoration-none\">\n          <h3>Magic Loops</h3>\n        </Link>\n      </div>\n\n      <nav className=\"sidebar-nav\">\n        {navItems.map((item) => {\n          const Icon = item.icon;\n          return (\n            <div key={item.path} className=\"nav-item\">\n              <Link\n                to={item.path}\n                className={`nav-link ${isActive(item.path) ? 'active' : ''}`}\n              >\n                <Icon size={18} />\n                <span>{item.label}</span>\n              </Link>\n            </div>\n          );\n        })}\n      </nav>\n\n      <div className=\"mt-auto p-3\">\n        {/* User Info */}\n        <div className=\"mb-3\">\n          <div className=\"d-flex align-items-center gap-3 p-3 rounded\" \n               style={{ backgroundColor: 'rgba(99, 102, 241, 0.1)' }}>\n            <div className=\"rounded-circle bg-primary d-flex align-items-center justify-content-center\"\n                 style={{ width: '40px', height: '40px' }}>\n              <User size={20} className=\"text-white\" />\n            </div>\n            <div className=\"flex-grow-1\">\n              <div className=\"text-light fw-semibold\">{user?.name}</div>\n              <div className=\"text-muted small\">{user?.plan} plan</div>\n            </div>\n          </div>\n        </div>\n\n        {/* Credits */}\n        <div className=\"mb-3\">\n          <div className=\"text-muted small mb-1\">Credits</div>\n          <div className=\"progress\" style={{ height: '6px' }}>\n            <div\n              className=\"progress-bar\"\n              style={{\n                width: `${user ? ((user.credits_used / user.credits_limit) * 100) : 0}%`,\n                background: 'var(--gradient-primary)',\n              }}\n            />\n          </div>\n          <div className=\"text-muted small mt-1\">\n            {user ? `${user.credits_limit - user.credits_used} remaining` : '0 remaining'}\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"nav-item\">\n          <Link to=\"/profile\" className={`nav-link ${isActive('/profile') ? 'active' : ''}`}>\n            <Settings size={18} />\n            <span>Settings</span>\n          </Link>\n        </div>\n\n        <div className=\"nav-item\">\n          <button\n            onClick={handleLogout}\n            className=\"nav-link w-100 border-0 bg-transparent text-start\"\n            style={{ color: 'var(--muted-text)' }}\n          >\n            <LogOut size={18} />\n            <span>Logout</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}